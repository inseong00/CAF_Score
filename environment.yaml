# CAF-Score: Unified Environment for CLAP and LALM Evaluation
# This environment combines dependencies for:
# - CLAP models (MS-CLAP, LAION-CLAP, MGA-CLAP, M2D-CLAP)
# - Large Audio Language Models (Audio-Flamingo-3, Qwen3-Omni)
# - CAF-Score computation

name: caf_score
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  - python=3.10
  - pip

  # Core scientific packages
  - numpy
  - scipy
  - pandas
  - scikit-learn

  # Audio processing
  - librosa
  - pysoundfile

  # Visualization (optional)
  - matplotlib

  # Development tools
  - tqdm
  - pyyaml

  - pip:
    # PyTorch ecosystem (CUDA 12.1)
    - torch>=2.5.0
    - torchaudio>=2.5.0
    - torchvision>=0.20.0

    # Hugging Face ecosystem
    - transformers>=4.45.0
    - tokenizers>=0.20.0
    - huggingface-hub>=0.25.0
    - safetensors>=0.4.0
    - accelerate>=1.0.0
    - peft>=0.13.0

    # CLAP models
    - msclap>=1.3.0
    - sentence-transformers>=3.0.0

    # MGA-CLAP dependencies
    - ruamel.yaml>=0.18.0
    - einops>=0.8.0
    - wandb

    # M2D-CLAP dependencies
    - nnAudio>=0.3.0
    - timm==0.9.16

    # Qwen3-Omni with vLLM
    - vllm>=0.6.0
    - qwen-omni-utils>=0.0.8

    # Utilities
    - joblib>=1.4.0
    - regex
